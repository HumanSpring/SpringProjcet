<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.OEMarket.repository.MemberRepository">

<!--  가입  -->
<insert id="register">
    INSERT INTO MEMBER (id, email, password, name, nickname, gender, phone, user_icon, signup_date, signout_yn ,signout_date, member_role)
    VALUES (#{id}, #{email}, #{password}, #{name}, #{nickname}, #{gender}, #{phone}, #{user_icon}, #{signup_date}, #{signout_yn}, #{signout_date}, #{member_role})
</insert>
<select id="emailCheck" parameterType="com.OEMarket.dto.MemberDTO" resultType="int">
    SELECT COUNT(*)
    FROM MEMBER
    WHERE email = #{email}
</select>
<select id="nickCheck" parameterType="com.OEMarket.dto.MemberDTO" resultType="int">
    SELECT COUNT(*)
    FROM MEMBER
    WHERE nickname = #{nickname}
</select>
<select id="phoneCheck" parameterType="com.OEMarket.dto.MemberDTO" resultType="int">
    SELECT COUNT(*)
    FROM MEMBER
    WHERE phone = #{phone}
</select>

<!--  로그인  -->
<select id="login" parameterType="com.OEMarket.dto.MemberDTO" resultType="java.util.HashMap">
    SELECT *
    FORM MEMBER
    WHERE email = #{email}
</select>


</mapper>